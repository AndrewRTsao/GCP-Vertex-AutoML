name: dbtRun
description: Run the dbt job
inputs:
- name: GOOGLE_CLOUD_PROJECT
  type: String
- name: DATASET_NAME
  type: String
- name: GOOGLE_APPLICATION_CREDENTIALS
  type: String
implementation:
  container:
    image: us-central1-docker.pkg.dev/continual-dev/azure-vm/vertex-azure-vm-dbt@sha256:29e4cddbd857fd0a5c166ebb2c0b989492fa85f6da0259e5cf64e7e43545e118
    command:
    - sh
    - -ec
    - GOOGLE_CLOUD_PROJECT="$0" "$@"
    - inputValue: GOOGLE_CLOUD_PROJECT
    - sh
    - -ec
    - DATASET_NAME="$0" "$@"
    - inputValue: DATASET_NAME
    - sh
    - -ec
    - GOOGLE_APPLICATION_CREDENTIALS="$0" "$@"
    - inputValue: GOOGLE_APPLICATION_CREDENTIALS
    - dbt
    - run
